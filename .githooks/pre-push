#!/bin/bash
# Pre-push hook: Run tests before pushing

echo "ğŸ” Running pre-push checks..."
echo ""

# Run server tests
echo "ğŸ“¦ Running server tests..."
cd server

npm test -- --run
TEST_EXIT=$?

if [ $TEST_EXIT -ne 0 ]; then
  echo ""
  echo "âŒ Tests failed. Push aborted."
  echo "   Fix the failing tests before pushing."
  exit 1
fi

echo ""
echo "âœ… All checks passed. Proceeding with push."
exit 0
