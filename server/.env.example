# Server Environment Variables
# Copy this file to .env and update values as needed

# ===========================================
# REQUIRED - Must be set for the app to work
# ===========================================

# Database - SQLite file path
DATABASE_URL="file:./dev.db"

# JWT Secret - IMPORTANT: Use a strong random string
# Generate with: openssl rand -base64 32
# Must be the SAME on all servers sharing the same database
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Session Secret - IMPORTANT: Use a strong random string
# Generate with: openssl rand -base64 32
SESSION_SECRET=your-session-secret-change-in-production

# ===========================================
# OPTIONAL - Server Configuration
# ===========================================

# Server port (defaults to 5001)
PORT=5001

# Environment (development, production)
NODE_ENV=development

# Client URL for CORS - set to your frontend URL
# Use * for development or specify exact URL for production
CLIENT_URL=http://localhost:5174
# CLIENT_URL=https://your-frontend-domain.com
# CLIENT_URL=*

# ===========================================
# AI Providers (at least one required for AI features)
# ===========================================

# OpenAI
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
# For local LLM (LM Studio, Ollama, etc.)
# OPENAI_BASE_URL=http://localhost:1234/v1
# OPENAI_MODEL=local-model

# Google Gemini
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-pro

# ===========================================
# DATABASE SEEDING (Optional)
# ===========================================
# Set these to use consistent passwords when seeding.
# If not set, random secure passwords will be generated and logged.
# SEED_ADMIN_PASSWORD=your-admin-password
# SEED_INSTRUCTOR_PASSWORD=your-instructor-password
# SEED_STUDENT_PASSWORD=your-student-password

# ===========================================
# DEPLOYMENT NOTES
# ===========================================
#
# 1. CRITICAL: JWT_SECRET must be the same across all instances
#    - If different, users will get "invalid credentials" errors
#    - Generate once and use everywhere
#
# 2. Database: For multi-server deployment, use PostgreSQL:
#    DATABASE_URL="postgresql://user:pass@host:5432/dbname"
#
# 3. First run: Initialize database with:
#    npx prisma migrate deploy
#    npx prisma db seed
#
# 4. CORS: Set CLIENT_URL to your exact frontend URL in production
